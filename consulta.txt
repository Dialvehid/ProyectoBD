
create table cliente(
id bigint primary key not NULL identity(1,1),
cui bigint not null unique,
nombres nvarchar (50) not null,
apellidos nvarchar (50) not null,
direccion nvarchar (100) not null,
tjtC nvarchar (20) not null,
tel int unique not null,
constraint dpi check( cui <= 9999999999999 and cui >0)
)

create table resevas(
cod bigint primary key identity(1,1) not null,
nasientos int check(nasientos>0) not null
)

create table embarque(
cod int primary key not null identity(1,1),
cui bigint not null,
reseva bigint,
id_avion int,
costo double not NULL,
costo_f double,
fechac date not null,
constraint fk_idavion foreign key(id_avion) references vuelos(avion),
constraint fk_res foreign key(reseva) references resevas(cod),
constraint fk_cui foreign key(cui) references cliente(cui)
)

create table aviones(
cod int primary key identity(1,1) not null,
nplaza int not null,
ndisponibles int check(ndisponibles<=nplaza)
)

create table aeropuerto(
cod int primary key identity(1,1) not null,
nombre nvarchar(30) not null,
pais nvarchar(30)not null,
)

create table vuelo(
cod int primary key identity(1,1) not null,
fsale date not null,
fllega date not null,
aesale int not null,
aellega int not null,
avion int not null,
constraint fk_salida foreign key(aesale) references aeropuerto(cod),
constraint fk_entra foreign key(aellega) references aeropuerto(cod),
constraint fk_avion foreign key(avion) references aviones(cod),
)


